<!doctype html><html class=no-js lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>AWS CDK(v2): Basic Settings - My First Step</title>
<script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script>
<meta name=description content>
<meta property="og:title" content="AWS CDK(v2): Basic Settings">
<meta property="og:description" content="A note on common basic settings when using AWS CDK(v2)">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.my-first-step.info/en/tech/aws_cdk_v2/first_step/"><meta property="article:section" content="tech">
<meta property="article:published_time" content="2021-12-20T00:00:00+00:00">
<meta property="article:modified_time" content="2021-12-20T00:00:00+00:00"><meta property="og:site_name" content="My First Step">
<meta itemprop=name content="AWS CDK(v2): Basic Settings">
<meta itemprop=description content="A note on common basic settings when using AWS CDK(v2)"><meta itemprop=datePublished content="2021-12-20T00:00:00+00:00">
<meta itemprop=dateModified content="2021-12-20T00:00:00+00:00">
<meta itemprop=wordCount content="394">
<meta itemprop=keywords content="AWS CDK v2,TypeScript,Mac,Install & Setting,">
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link rel=dns-prefetch href=//fonts.googleapis.com>
<link rel=dns-prefetch href=//fonts.gstatic.com>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/my-style.css>
<link rel="shortcut icon" href=/favicon.ico>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SV0KGCR6DC"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-SV0KGCR6DC',{anonymize_ip:!1})}</script>
<script data-ad-client=ca-pub-9110784429846069 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
</head>
<body class=body>
<div class="container container--outer">
<header class=header>
<div class="container header__container">
<div class=logo>
<a class=logo__link href=/en/ title="My First Step" rel=home>
<div class="logo__item logo__text">
<div class=logo__title>My First Step</div>
</div>
</a>
</div>
<div class=divider></div>
</div>
</header>
<div class="wrapper flex">
<div class=primary>
<main class=main role=main>
<article class=post>
<header class=post__header>
<h1 class=post__title>AWS CDK(v2): Basic Settings</h1>
<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-12-20T00:00:00Z>2021-12-20</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/en/categories/aws-cdk-v2/ rel=category>AWS CDK v2</a>
</span>
</div>
<div class="meta__item-translations meta__item">
<span class=meta__text>Translations: <a class=meta__link href=/ja/tech/aws_cdk_v2/first_step/>JA</a>
</span>
</div></div>
</header>
<div class="post__toc toc">
<div class=toc__title>Page content</div>
<div class=toc__menu>
<nav id=TableOfContents>
<ul>
<li><a href=#basic-settings>Basic Settings</a>
<ul>
<li><a href=#environments>Environments</a></li>
<li><a href=#setup-aws-account>Setup AWS Account</a></li>
<li><a href=#install-nodejs>Install NodeJS</a></li>
<li><a href=#install-aws-cdk--typescript>Install AWS-CDK & TypeScript</a></li>
<li><a href=#bootstrapping>Bootstrapping</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div><div class="content post__content clearfix">
<p><a href=https://docs.aws.amazon.com/cdk/v2/guide/home.html>AWS CDK v2</a> is a tool that enables you to create and modify AWS infrastructure configurations by writing them in a programming language. At first, it was a snap to do from the web admin console, but as it becomes more and more difficult to do the same thing over and over again (quickly and without mistakes and without getting frustrated), this kind of standardized system is useful once you get used to it.</p>
<p>I think this CDK is very useful because it makes it easy to grant IAM privileges and to link various resources. I&rsquo;m impressed by how easy it is to do things that would require me to go back and forth between various screens if I were to do them on the admin console.
The basic things that can be done with CDK can also be done with CloudFormation, but if you choose TypeScript as the description language, CDK can complement property names and other information in a nice way if you edit them with VSCode, etc., and it can also detect combinations that cannot be used in advance. It is quite comfortable.</p>
<p>The AWS CDK was released to the public on December 2, 2021. It&rsquo;s generally written in a similar way to v1, but there are some subtle differences, and existing samples often don&rsquo;t work as they should, so I&rsquo;m going to make a note of them.</p>
<h2 id=basic-settings>Basic Settings</h2>
<p>Reference: <a href=https://docs.aws.amazon.com/cdk/v2/guide/getting_started.html>Getting Started</a> in the official documentation.</p>
<h3 id=environments>Environments</h3>
<ul>
<li>MacBook Pro(M1), OS: Monterey(12.0.1)</li>
<li>node: v16.13.1</li>
</ul>
<h3 id=setup-aws-account>Setup AWS Account</h3>
<p>There are many ways to do this, so I won&rsquo;t go into that here (you can look it up).
Basically, you need to configure credentials from <code>aws configure</code> or something like that.</p>
<h3 id=install-nodejs>Install NodeJS</h3>
<p>We want the version16 of node to use <code>aws-cdk</code>, so we install it via <code>nvm</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>% brew install nvm
% nvm --version
0.39.0
% nvm install <span style=color:#ae81ff>16</span>
% node --version
v16.13.1
</code></pre></div><h3 id=install-aws-cdk--typescript>Install AWS-CDK & TypeScript</h3>
<p>Install <code>aws-cdk</code> and <code>typescript</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>% npm install -g aws-cdk typescript
% cdk --version
2.2.0 <span style=color:#f92672>(</span>build 4f5c27c<span style=color:#f92672>)</span>
% tsc --version
Version 4.5.4
</code></pre></div><h3 id=bootstrapping>Bootstrapping</h3>
<p>You need to run <code>bootstrap</code> only once for each &ldquo;AWS Account + Region&rdquo;.
For example, if your account number is <code>123456789</code> and your region is <code>ap-northeast-1</code>, you can do the following</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cdk bootstrap aws://123456789/ap-northeast-1
</code></pre></div><p>If this is successful, the AWS account settings are also OK, and you can proceed to the next step.</p>
</div>
<footer class=post__footer>
<div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg>
<ul class=tags__list>
<li class=tags__item>
<a class="tags__link btn" href=/en/tags/aws-cdk-v2/ rel=tag>AWS CDK v2</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/en/tags/typescript/ rel=tag>TypeScript</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/en/tags/mac/ rel=tag>Mac</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/en/tags/install-setting/ rel=tag>Install & Setting</a>
</li>
</ul>
</div>
</footer>
</article>
</main>
</div>
</div>
<footer class=footer>
<div class="container footer__container flex">
<div class=footer__links>
<a class=footer__link href=/en/etc/my_first_step/>About This Blog</a>
</div>
<div class=footer__copyright>
&copy; 2022 Mokemokechicken.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span>
</div>
</div>
</footer>
</div>
<script async defer src=/js/menu.js></script>
</body>
</html>