<!doctype html><html class=no-js lang=ja>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="IE=edge">
<title>Hugo で ブログ を始める - My First Step</title>
<script>(function(a,b){a[b]=a[b].replace("no-js","js")})(document.documentElement,"className")</script>
<meta name=description content="現時点である程度PCに詳しい人が広告を貼り付けられるブログを無料(or 低価格)で始めるにはどうしたらいいのか">
<meta property="og:title" content="Hugo で ブログ を始める">
<meta property="og:description" content="現時点である程度PCに詳しい人が広告を貼り付けられるブログを無料(or 低価格)で始めるにはどうしたらいいのか">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.my-first-step.info/ja/tech/hugo/start_blog_with_hugo/"><meta property="article:section" content="tech">
<meta property="article:published_time" content="2021-12-13T00:00:00+00:00">
<meta property="article:modified_time" content="2021-12-13T00:00:00+00:00"><meta property="og:site_name" content="My First Step">
<meta itemprop=name content="Hugo で ブログ を始める">
<meta itemprop=description content="現時点である程度PCに詳しい人が広告を貼り付けられるブログを無料(or 低価格)で始めるにはどうしたらいいのか"><meta itemprop=datePublished content="2021-12-13T00:00:00+00:00">
<meta itemprop=dateModified content="2021-12-13T00:00:00+00:00">
<meta itemprop=wordCount content="2729">
<meta itemprop=keywords content="Hugo,Install & Setting,">
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link rel=dns-prefetch href=//fonts.googleapis.com>
<link rel=dns-prefetch href=//fonts.gstatic.com>
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/my-style.css>
<link rel="shortcut icon" href=/favicon.ico>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M2QWEH7EHT"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-M2QWEH7EHT',{anonymize_ip:!1})}</script>
</head>
<body class=body>
<div class="container container--outer">
<header class=header>
<div class="container header__container">
<div class=logo>
<a class=logo__link href=/ja/ title="My First Step" rel=home>
<div class="logo__item logo__text">
<div class=logo__title>My First Step</div>
</div>
</a>
</div>
<div class=divider></div>
</div>
</header>
<div class="wrapper flex">
<div class=primary>
<main class=main role=main>
<article class=post>
<header class=post__header>
<h1 class=post__title>Hugo で ブログ を始める</h1>
<p class=post__lead>無料で広告を貼り付けられるブログサイトを始めたい</p>
<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-12-13T00:00:00Z>2021-12-13</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/ja/categories/hugo/ rel=category>Hugo</a>
</span>
</div>
<div class="meta__item-translations meta__item">
<span class=meta__text>翻訳: <a class=meta__link href=/en/tech/hugo/start_blog_with_hugo/>EN</a>
</span>
</div></div>
</header>
<div class="post__toc toc">
<div class=toc__title>目次</div>
<div class=toc__menu>
<nav id=TableOfContents>
<ul>
<li><a href=#無料で広告を貼り付けられるブログサイトを始めたい>無料で広告を貼り付けられるブログサイトを始めたい</a>
<ul>
<li><a href=#ブログサービスを利用しなかった理由>ブログサービスを利用しなかった理由</a></li>
<li><a href=#独自ドメインにした理由>独自ドメインにした理由</a></li>
</ul>
</li>
<li><a href=#hugoでgithub-pagesにコンテンツを公開するまで>HugoでGitHub Pagesにコンテンツを公開するまで</a></li>
<li><a href=#独自ドメインを設定する>独自ドメインを設定する</a>
<ul>
<li><a href=#ドメインを取得する>ドメインを取得する</a></li>
<li><a href=#名前を決めてdnsレコードを追加する>名前を決めて、DNSレコードを追加する</a></li>
<li><a href=#httpsを有効にする>HTTPSを有効にする</a></li>
<li><a href=#github-actionsで反映している場合は>GitHub Actionsで反映している場合は</a></li>
</ul>
</li>
<li><a href=#多言語対応にする>多言語対応にする</a>
<ul>
<li><a href=#configtoml-に-対応する言語を追加>config.toml に 対応する言語を追加</a></li>
<li><a href=#ファイル名をちょっと変えてそれぞれの言語対応のコンテンツを作る>ファイル名をちょっと変えて、それぞれの言語対応のコンテンツを作る</a></li>
<li><a href=#異なる言語ページへのリンクの表示>異なる言語ページへのリンクの表示</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div><div class="content post__content clearfix">
<p>現時点である程度PCに詳しい人が広告を貼り付けられるブログを無料(or 低価格)で始めるにはどうしたらいいのか、を検討しました。</p>
<p>Macユーザー向けの内容ですが、Windowsなどでも基本は同じです。</p>
<h2 id=無料で広告を貼り付けられるブログサイトを始めたい>無料で広告を貼り付けられるブログサイトを始めたい</h2>
<p>と、欲望丸出しで考えた場合、どういう選択肢があるのかを考えた結果、Hugo+GitHubPages(+独自ドメイン) というのが一番自分に合っていました。</p>
<ul>
<li><a href=https://gohugo.io/>Hugo</a> は、Markdownで記事を書くと色々な用途の静的なHTMLやリソースに変換してくれるツールです。</li>
<li><a href=https://docs.github.com/ja/pages/getting-started-with-github-pages/about-github-pages>GitHub Pages</a> は、GitHubが提供する無料で使える静的なWebコンテンツ配信サービスです(私にとって)。
<ul>
<li>GitHubのアカウントが必要です（無料で作れます）。</li>
<li><code>https://&lt;username>.github.io/</code> というドメインでアクセスできるようになります(<code>&lt;username></code> は取得したアカウント名が入ります)。</li>
</ul>
</li>
</ul>
<p>要するに、この２つだけあれば、比較的簡単にそういうWebサイトを作ることができるわけです。</p>
<h3 id=ブログサービスを利用しなかった理由>ブログサービスを利用しなかった理由</h3>
<p>始めるのは一番簡単ですが、10~20年後にまだ残っているかという観点で見ると不明であり、そのときにせっかく書いたコンテンツを抽出するのも面倒そうです。
今までも、何度かメジャーな投稿系サービスが閉鎖になっていったことを考えると、ちょっと嫌だな&mldr;と思いました。</p>
<h3 id=独自ドメインにした理由>独自ドメインにした理由</h3>
<p><code>https://&lt;username>.github.io/</code> というドメイン名でも基本的には問題ないのですが、
まー万が一、GitHub Pagesが閉鎖になった場合、せっかくそのドメインに集客できていたのに（皮算用&mldr;）ちょっと嫌だな&mldr;と。
また、年間1000~2000円くらいで独自ドメインは維持できるので、それくらいは問題ないかなと。映画館に1回行ったと思えばね。</p>
<h2 id=hugoでgithub-pagesにコンテンツを公開するまで>HugoでGitHub Pagesにコンテンツを公開するまで</h2>
<p>基本的には <a href=https://zenn.dev/kato_k/articles/66531db0c4024d>HUGOとGitHub(Actions/Pages)で爆速ブログ作成</a> の記事がとても参考になりました。
上記の手順でHugoでGitHub Pagesにコンテンツを公開するまで行うことができます。</p>
<p>もしくは Hugoの公式ドキュメントの <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>Host On GitHub</a> も参考になります。</p>
<h2 id=独自ドメインを設定する>独自ドメインを設定する</h2>
<h3 id=ドメインを取得する>ドメインを取得する</h3>
<p>あまり深く考えずに、<a href=https://www.onamae.com/>お名前.com</a> でこのドメインを取得しました。
ここは基本的に何でも良いですが、お名前.comで特に大きな問題もなく取得できました。</p>
<p>ちょっと注意が必要なのは、Topページで紹介されているドメインの料金は「1年目」のものであり、2年目以降一気に値段が上がるものもあります。
<a href=https://www.onamae.com/service/d-price/>料金プラン</a> などで自分に合った値段のドメインをまず探してから申し込むようにしましょう。</p>
<p>私が取得した <code>.info</code> ドメインは 現時点で 1年目目280円/年, 2年目以降1628円/年 でした。</p>
<p>あとは 「Whois代行」サービス(300~400円/年)には申し込みました。
これ申し込まないと、自分の名前とか住所がwhoisで公開されるっぽい（試してはいない）ので、まあ必要かな、、、と。</p>
<p>SSLとかは、GitHub Pagesの方で無料でワンクリックで設定してくれますので、とりあえずは不要です。</p>
<h3 id=名前を決めてdnsレコードを追加する>名前を決めて、DNSレコードを追加する</h3>
<p>GitHub Pages で <code>my-first-step.info</code> より <code>www.my-first-step.info</code> とか <code>blog.my-first-step.info</code> にしなさい、と強く推奨していたので従うことに。<code>****.my-first-step.info</code> の <code>****</code> 部分の名前を決める必要があります。Blogサイトなので素直に <code>blog</code> にしました。</p>
<p>次に、お名前.comのDNSの設定で <code>blog.my-first-step.info</code> という名前を <code>CNAME</code> で <code>mokemokechicken.github.io</code> にしておきます。
ここは管理画面で何度も迷子になったので、ちょっとキャプチャを貼っておきます。</p>
<p>Topページから、
<figure class=center><img src=./f1.png width=50%><figcaption>
<h4>Topページ</h4>
</figcaption>
</figure>
</p>
<hr>
<p>ドメインを選択して、
<figure class=center><img src=./f2.png width=50%><figcaption>
<h4>ドメインを選択</h4>
</figcaption>
</figure>
</p>
<hr>
<p>設定を選び、
<figure class=center><img src=./f3.png width=50%><figcaption>
<h4>DNSレコード設定を利用する</h4>
</figcaption>
</figure>
</p>
<hr>
<p>CNAMEを設定する
<figure class=center><img src=./f4.png width=50%><figcaption>
<h4>CNAMEを設定する</h4>
</figcaption>
</figure>
</p>
<p>あとは、確認して更新すればOKです。</p>
<h3 id=httpsを有効にする>HTTPSを有効にする</h3>
<p>次に、GitHubのページに行き、①Settings → ②Pages と進み、③ Custom Domain に <code>blog.my-first-step.info</code> を入れて 「Save」を押します。
DNSの情報が妙にCacheされていたりして、すぐにはOKにならない（私はそうだった）ことがありますが、
次の日くらいにはその辺も直るので、気長に待ちます。
確認できると、④の <code>Enforce HTTPS</code> をクリックできるようになるので、クリックします。
これで晴れて https でアクセスできるようになります。</p>
<figure class=center><img src=./pages.png><figcaption>
<h4>HTTPSを有効にする</h4>
</figcaption>
</figure>
<h3 id=github-actionsで反映している場合は>GitHub Actionsで反映している場合は</h3>
<p>どうも GitHub Pages の リポジトリのTOPディレクトリに <code>CNAME</code> という名前のファイルに <code>blog.my-first-step.info</code> と書いておく必要があるようです。
これがないと、先程行ったCustom Domainの設定が消えてしまいます。
<figure class=center><img src=./cname.png width=50%><figcaption>
<h4>CNAMEファイルが無いと設定が消えてしまう</h4>
</figcaption>
</figure>
</p>
<p>最終的にそうなっていれば良いのですが、例えば、GitHub Actionsでデプロイしている場合、
以下のように <code>cname: blog.my-first-step.info</code> を付けておくと自動的のそのファイルを作ってくれます（逆に無いと消してしまいます）。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml:.github/workflows/gh-pages.yml data-lang=yaml:.github/workflows/gh-pages.yml><span style=color:#75715e># …略</span>
      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>

      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>github.ref == &#39;refs/heads/main&#39;</span>
        <span style=color:#f92672>with</span>:
          <span style=color:#f92672>deploy_key</span>: <span style=color:#ae81ff>${{ secrets.SSH_KEY }}</span>
          <span style=color:#f92672>external_repository</span>: <span style=color:#ae81ff>mokemokechicken/blog</span>
          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
          <span style=color:#f92672>cname</span>: <span style=color:#ae81ff>blog.my-first-step.info</span>
</code></pre></div><h2 id=多言語対応にする>多言語対応にする</h2>
<p>広告を貼り付けたいという邪な心で始めたブログですので、全世界の英語圏の人たちにもぜひアクセスして欲しいものです。
最近は <a href=https://www.deepl.com/>DeepL</a> のような優秀な翻訳サービスもありますし、英語が得意でなくても多少読めるコンテンツを作ることは不可能ではありません。</p>
<p>Hugoは簡単に多言語対応することができます。
詳細は <a href=https://gohugo.io/content-management/multilingual/>Multilingual Mode</a> にありますが、概要を書き残しておきます。</p>
<h3 id=configtoml-に-対応する言語を追加>config.toml に 対応する言語を追加</h3>
<p>日本語と英語以外は全く理解できないので、その2ヶ国語に対応するとします。
デフォルトの言語(<code>defaultContentLanguage</code>)を何にしようかと思いましたが、英語にするほど強気にはなれず、日本語にしておきます。
その場合例えば、以下のように書きます。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=color:#a6e22e>defaultContentLanguage</span> = <span style=color:#e6db74>&#34;ja&#34;</span>
<span style=color:#a6e22e>defaultContentLanguageInSubdir</span> = <span style=color:#66d9ef>true</span>

[<span style=color:#a6e22e>languages</span>]
    [<span style=color:#a6e22e>languages</span>.<span style=color:#a6e22e>ja</span>]
    <span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#39;My First Step&#39;</span>
    <span style=color:#a6e22e>languageName</span> = <span style=color:#e6db74>&#34;Japanese&#34;</span>
    <span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>10</span>

    [<span style=color:#a6e22e>languages</span>.<span style=color:#a6e22e>en</span>]
    <span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#39;My First Step&#39;</span>
    <span style=color:#a6e22e>languageName</span> = <span style=color:#e6db74>&#34;English&#34;</span>
    <span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>20</span>
</code></pre></div><p><code>defaultContentLanguageInSubdir</code> は TopページのURLが、</p>
<ul>
<li><code>false</code> にすると<code>https://blog.my-first-step.info/</code> になる</li>
<li><code>true</code> にすると <code>https://blog.my-first-step.info/ja/</code> になる</li>
</ul>
<p>というものです。</p>
<p><code>weight</code> は何か優先順位のようなものらしいです。小さい方が優先されるらしいです(weightなら逆なんじゃぁ&mldr;w)。</p>
<h3 id=ファイル名をちょっと変えてそれぞれの言語対応のコンテンツを作る>ファイル名をちょっと変えて、それぞれの言語対応のコンテンツを作る</h3>
<p>あとは、</p>
<ul>
<li>日本語用: <code>index.ja.md</code></li>
<li>英語用: <code>index.en.md</code></li>
</ul>
<p>というようにファイル名に言語コードを入れるとそれぞれ表示されるようになります。</p>
<h3 id=異なる言語ページへのリンクの表示>異なる言語ページへのリンクの表示</h3>
<p><code>mainroad</code> という Theme だと、以下の部分に <code>translations</code> を追加すると、</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml>[<span style=color:#a6e22e>Params</span>]
<span style=color:#a6e22e>post_meta</span> = [<span style=color:#e6db74>&#34;date&#34;</span>, <span style=color:#e6db74>&#34;categories&#34;</span>, <span style=color:#e6db74>&#34;translations&#34;</span>] <span style=color:#75715e># Order of post meta information</span>
</code></pre></div><p>以下のようにリンクが表示されるようになります。
ちなみに <code>index.ja.md</code> があって、 <code>index.en.md</code> がない場合は表示されません。賢い。</p>
<figure class=center><img src=./translate.png width=50%><figcaption>
<h4>翻訳Linkを表示する</h4>
</figcaption>
</figure>
</div>
<footer class=post__footer>
<div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg>
<ul class=tags__list>
<li class=tags__item>
<a class="tags__link btn" href=/ja/tags/hugo/ rel=tag>Hugo</a>
</li>
<li class=tags__item>
<a class="tags__link btn" href=/ja/tags/install-setting/ rel=tag>Install & Setting</a>
</li>
</ul>
</div>
</footer>
</article>
</main>
</div>
</div>
<footer class=footer>
<div class="container footer__container flex">
<div class=footer__links>
<a class=footer__link href=/ja/etc/my_first_step/>このBlogについて</a>
</div>
<div class=footer__copyright>
&copy; 2021 Mokemokechicken.
<span class=footer__copyright-credits>このサイトは <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> と <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> テーマで生成されています。</span>
</div>
</div>
</footer>
</div>
<script async defer src=/js/menu.js></script>
</body>
</html>